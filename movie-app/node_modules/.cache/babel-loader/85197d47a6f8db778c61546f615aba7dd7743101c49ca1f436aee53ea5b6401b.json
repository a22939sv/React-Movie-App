{"ast":null,"code":"import _toConsumableArray from\"D:/PRUEBAS/React-Movie-App/movie-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:/PRUEBAS/React-Movie-App/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/PRUEBAS/React-Movie-App/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/PRUEBAS/React-Movie-App/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import MovieList from\"./components/MovieList\";import MovieListHeading from\"./components/MovieListHeading\";import SearchBox from\"./components/SearchBox\";import AddFavourite from\"./components/AddFavourites\";import RemoveFavourites from\"./components/RemoveFavourites\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favourites=_useState4[0],setFavourites=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=f88c9283\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);useEffect(function(){var movieFavourites=JSON.parse(localStorage.getItem('react-movie-app-favourites'));setFavourites(movieFavourites);},[]);var saveToLocalStorage=function saveToLocalStorage(items){localStorage.setItem('react-movie-app-favourites',JSON.stringify(items));};var addFavouriteMovie=function addFavouriteMovie(movie){var newFavouriteList=[].concat(_toConsumableArray(favourites),[movie]);setFavourites(newFavouriteList);saveToLocalStorage(newFavouriteList);};var removeFavouriteMovie=function removeFavouriteMovie(movie){var newFavouriteList=favourites.filter(function(favourite){return favourite.imdbID!==movie.imdbID;});setFavourites(newFavouriteList);saveToLocalStorage(newFavouriteList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Movies\"}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleFavouritesClick:addFavouriteMovie,favouriteComponent:AddFavourite})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Favourites\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:favourites,handleFavouritesClick:removeFavouriteMovie,favouriteComponent:RemoveFavourites})})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","MovieList","MovieListHeading","SearchBox","AddFavourite","RemoveFavourites","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","favourites","setFavourites","_useState5","_useState6","searchValue","setSearchValue","getMovieRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","responseJson","wrap","_callee$","_context","prev","next","concat","fetch","sent","json","Search","stop","_x","apply","arguments","movieFavourites","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addFavouriteMovie","movie","newFavouriteList","_toConsumableArray","removeFavouriteMovie","filter","favourite","imdbID","className","children","heading","handleFavouritesClick","favouriteComponent"],"sources":["D:/PRUEBAS/React-Movie-App/movie-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport MovieList from \"./components/MovieList\";\nimport MovieListHeading from \"./components/MovieListHeading\";\nimport SearchBox from \"./components/SearchBox\";\nimport AddFavourite from \"./components/AddFavourites\";\nimport RemoveFavourites from \"./components/RemoveFavourites\";\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [favourites, setFavourites] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n\n  const getMovieRequest = async (searchValue) => {\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=f88c9283`;\n\n    const response = await fetch(url);\n    const responseJson = await response.json();\n\n    if (responseJson.Search) {\n      setMovies(responseJson.Search);\n    }\n  }\n\n  useEffect(() => {\n    getMovieRequest(searchValue);\n  }, [searchValue]);\n\n  useEffect(() => {\n    const movieFavourites = JSON.parse(localStorage.getItem('react-movie-app-favourites'))\n    setFavourites(movieFavourites);\n  }, [])\n\n  const saveToLocalStorage = (items) => {\n    localStorage.setItem('react-movie-app-favourites', JSON.stringify(items));\n  }\n\n  const addFavouriteMovie = (movie) => {\n    const newFavouriteList = [...favourites, movie];\n    setFavourites(newFavouriteList);\n    saveToLocalStorage(newFavouriteList);\n  }\n\n  const removeFavouriteMovie = (movie) => {\n    const newFavouriteList = favourites.filter(\n      (favourite) => favourite.imdbID !== movie.imdbID\n    );\n\n    setFavourites(newFavouriteList);\n    saveToLocalStorage(newFavouriteList);\n  }\n\n  return (\n    <div className=\"container-fluid movie-app\">\n      <div className=\"row d-flex align-items-center mt-4 mb-4\">\n        <MovieListHeading heading=\"Movies\" />\n        <SearchBox searchValue={searchValue} setSearchValue={setSearchValue} />\n      </div>\n      <div className=\"row\">\n        <MovieList\n          movies={movies}\n          handleFavouritesClick={addFavouriteMovie}\n          favouriteComponent={AddFavourite} />\n      </div>\n      <div className=\"row d-flex align-items-center mt-4 mb-4\">\n        <MovieListHeading heading=\"Favourites\" />\n      </div>\n      <div className=\"row\">\n        <MovieList\n          movies={favourites}\n          handleFavouritesClick={removeFavouriteMovie}\n          favouriteComponent={RemoveFavourites} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}